function [y1] = simDamage(x1)
%SIMDAMAGE neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jun-2019 14:38:30.
% 
% [y1] = simDamage(x1) takes these arguments:
%   x = 15xQ matrix, input #1
% and returns:
%   y = 11xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.0625863832492041;0;-2.29377041736254;0;0;0;0;0;-8.12016803316804;0;0;0;0;0;-0.328960143637228];
x1_step1.gain = [22.7670475146132;3.73283035676289e-06;0.871926843620066;42.8708392308134;0.0129512929625949;1.57730113918396;54.4316560921865;10.9134124394932;0.246300321844413;0.979239178776371;10.5724171645341;12.0113722356471;35.0719796446208;0.000705943321135319;6.07976388229441];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.71966937458705948494;-0.18823492412695103093;0.22015629520577270628;0.12062404664151531175;-0.28752806601331198921;-0.015801676383398015335;-0.26235101115292808194;0.36699692704623576578;0.24158295272884694471;-0.13141071886684005388];
IW1_1 = [0.4076069819684369766 -0.79377240215215660868 0.69434188081629966138 0.30416356318671139425 0.56397817298179930834 0.66851192080556720576 0.75964710875148022673 0.53875203762560286425 0.30674477829144020102 -0.14318692488546555519 0.28677982324950274107 0.073004049469435478015 -0.64401428788629544453 -0.13025214164483123191 -0.6304581723957111139;-0.027465060223264149697 -0.5651737832940175732 -0.49677603783842660956 0.3514012481276556632 -0.1344655745824135662 -0.88351105508633787089 0.078941684232581688097 0.91059339637993630401 -0.31003957373325063962 -0.75569955371120844934 -0.33895723349518852574 -0.13474774443194922902 -0.4567766836707816136 0.33614688600382625072 0.52599804999254629045;0.56991268533877192937 0.066975332599077633255 -0.071575651244971574827 0.22544025963732838846 0.44521449339378083021 0.38551551344343037986 0.33556216030499519398 0.013242499330848605046 0.074474232707744336679 0.22230958292260774578 0.04833595874085123284 -0.55198319488842106928 0.36793846309174449427 -0.84032069520310415101 -0.78126219022552090276;0.34638203493259556165 0.35570641260333901723 0.35985789929567713052 0.87586589487547195088 0.6102487234524140991 0.16149853684524170805 0.030767226322969919855 0.54269609985492694992 -0.16591442820370283506 0.96602272291379298608 -0.88634506773057497586 -0.67291602527931659861 0.53937466184446958284 0.42377967091804841226 0.21339911641184167168;-0.25761227475411396792 0.71544721775843378442 -0.24543078787205524494 0.10548750579892016144 -0.037043652741365860892 0.51360439755771358783 0.34392654632852193153 -1.0021106857075852137 0.40413948361783746943 0.8829705861465236838 0.61978980020729601552 -0.21413599173876543547 0.026502647659813954178 -0.26075580587679664246 0.35382227015506478862;0.078535748747954700621 0.18015137056299537766 0.54631089248208442033 -0.47744405389955374419 -0.072446267518267853935 0.51809033447539809547 0.88727492393819706873 0.26179588684336313475 -0.98490704576051246733 -0.72948737710741051732 0.73409212776144661117 -0.86706735274079549392 -0.36804601942038239759 0.45790633680981196463 0.01752276078746358573;0.21734454258653432279 1.0451865119143781691 -0.108689338906079902 0.51326664202123684078 0.010132941731703570473 0.10581620661582065435 0.0012305338290601018376 0.94185061252163260193 -0.11689650805476460571 0.16272681964540461341 -0.51446518081588910043 0.75603783431122362213 -0.52721437447421259925 -0.57640790774619754533 0.47854733836256296842;0.10460282304572506018 -0.1565326227955127214 0.58120542496033877899 0.71995726643525603805 0.90850033256046791585 0.58612652145841048767 0.87997868900136655412 0.15755421586282150614 -0.69483253880370654532 0.77944079432458235335 -0.31156271816874175906 0.040308037440445594612 -0.6809462209675761768 -0.11542870218130596438 -0.19111143646547348873;-0.0031597122141544899988 0.049473257551668384235 0.46286456457994212821 -0.47762705190125398502 0.012887464284065536235 -0.34386899971956891298 0.89257445549501113202 -1.0011442521460447441 -0.61737114288266980999 -0.66162445158007399115 0.5309377974777025333 -0.30717580562494800622 -0.49960863748444689358 -1.2434412255015037108 -0.55308942075951372797;-0.063570840053699423366 0.65934622961689293152 -0.72697413488121298553 0.0097966584582653143398 0.76355635049827319527 0.75139315642599047163 -0.60168693069781653548 -0.97257590181039010879 -0.45026994515151697041 -0.86629369534378630746 0.25202268310528619377 0.44857501550750078501 -0.73626098186983379712 -0.90105768613608749895 -0.15973246617815189952];

% Layer 2
b2 = [-0.59943637093198276489;-0.15057114710887212206;-0.12526531268906518357;-0.66094109160713199191;-0.5525660182252436492;-0.0054070842298836576181;0.51383416875362597498;0.37485034516132548221;-0.028339639199972555678;-0.19792876533652303817;0.57507958544873449824];
LW2_1 = [0.41045087250029793635 -0.3688974541644675087 0.28658826226268385717 0.064787960747260023298 0.23209244086064001467 0.71101615361897041456 -0.91594647523393057931 -0.14806024748084972709 -0.23929933419804960693 -0.35278915465136695406;-0.33205259148048116291 0.44076919458823299314 -0.27758393631443800675 0.39609940401297955015 -0.11479196128906715701 0.63998873546297252446 0.2868615112070354578 -0.65461561634387754882 -0.67984525288837538426 -0.41880001248748327525;-0.48553698737565698096 -0.82006545348638804072 0.35121917648778422372 -0.66137189937943774432 -1.020774363752833036 -0.68083308493679051132 0.27539544924164965911 0.16425699482413086416 -0.98254393577791565573 -0.1094831637737144342;0.63261349306642256085 -0.50869569897348099197 -0.78817788125520560349 -0.47330905313150178904 -0.67516469587108896011 -0.54917395515143618834 0.33849283796560097892 0.16551858470971753112 -0.84263617184705508212 -0.47397611461242744602;0.53281128485456163979 -0.77127096649529425232 -0.86362854209043371512 0.22492780996589470388 -0.32448394649850176297 -0.13681887908071782567 -0.61613941940276384379 -0.40689732220081276104 -0.34874188466100308759 -0.58335036169942122708;0.75494307121104209379 -0.56676767196905508683 -0.085663397377212999184 0.44835096344910246868 0.60085370299096219071 -0.23883454744385851365 0.060681588066909757095 -0.69714521623380187876 -0.020448905671757229563 0.86262654425542295566;-0.072711714792482104452 -0.022487169729789542594 -0.21170400102541583887 0.74933590081564760421 0.5106543469650733913 -0.1915640368379842029 -0.039838630129747150399 -0.69734820434752031737 -0.56582551948300197076 -0.36567351194988090279;-0.13603063598401135548 -0.23195145637199113264 0.27899816606617877657 0.41272896374042689072 0.17311788208977740844 -0.48700707493119371749 -0.6897784772059392111 -0.50743749950239358526 -0.98168292400623780036 0.66874569456588084382;0.25539423956042800468 -0.7074343418864651456 -0.89187423225502659996 -0.13312613879267526373 0.18034351112930677163 0.3667373454649818787 0.69651351881015211021 0.41510691368338537011 0.65649627877511540497 0.079990750369552734989;0.12978334543681199764 0.24350387712297008602 0.30045667305025641758 0.27618458081801616766 0.1064505390769514559 1.0143403182171102372 -0.47279650595673278213 0.194680855267654912 0.36472981083929850721 0.92575547783895217879;-0.8564697934365325116 0.96430362147935277939 0.42945078165730637965 -0.2919655617614240195 -0.63741735966123858059 -0.94015932413905667353 0.13597306970525716019 0.56589546078928754103 -0.44092752908311561022 0.056938893027174065919];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0130468030737206;36.7908978673465;24.3222028767892;7.94027025890494;0.154706328621324;1.29283126419373;3.20402598954238;12.6087813414307;45.3158505273722;0.000705961343331722;5.39968877299077];
y1_step1.xoffset = [0;0;0;0;-12.927719362376;0;0;0;0;0;-0.370391717760474];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = repmat(b1,1,Q) + IW1_1*xp1;

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
